# ğŸ“± WhatsApp Bulk Messaging (with Human-like Typing)

This project automates sending **personalized WhatsApp messages** to candidates using `whatsapp-web.js`.  
It mimics human behavior with **typing delays, multi-part messages, and randomized gaps** between sends to reduce the risk of account flagging.

---

## ğŸ“‚ Project Structure
.
â”œâ”€â”€ index.js             # Entry point â€“ starts the client and triggers bulk send
â”œâ”€â”€ client.js            # WhatsApp client setup (LocalAuth & QR)
â”œâ”€â”€ bulkSend.js          # Main loop to send messages in bulk
â”œâ”€â”€ sendMessage.js       # Typing + send logic (start/stop typing)
â”œâ”€â”€ templates.js         # Message templates (multi-part arrays)
â”œâ”€â”€ messageBuilder.js    # Replaces placeholders and returns message parts
â”œâ”€â”€ contact.js           # Loads contacts from CSV
â”œâ”€â”€ utils.js             # Random delay helpers
â”œâ”€â”€ package.json         # Node dependencies & scripts
â”œâ”€â”€ Dockerfile           # Docker setup for containerized runs
â”œâ”€â”€ docker-compose.yml   # Compose file with persisted auth volume
â””â”€â”€ README.md            # This file

---

## âš¡ Features
- Send **personalized WhatsApp messages** from a CSV.  
- Support for **multi-part templates** (2â€“3 smaller messages per candidate).  
- Simulates typing status before sending each part.  
- Randomized short delays between parts and longer delays between recipients.  
- Docker-ready with persistent auth folder so you don't scan QR every time.  
- Rotation through templates (no strict repeating pattern).

---

## ğŸ› ï¸ Quick Setup

### Prerequisites
- Docker Desktop (recommended) **or** Node.js (v16+) + npm if running locally.

### 1) Clone repo
git clone <your-repo-url>
cd whatsapp_bulk

### 2) Install dependencies (if running locally)
npm install

### 3) Run with Docker (recommended)
docker-compose up --build

> On first run you'll see a QR in container logs / terminal. Scan it from WhatsApp â†’ *Linked Devices*.  
> Make sure `docker-compose.yml` mounts `./wwebjs_auth:/app/.wwebjs_auth` (so session persists).

### 4) Run locally (if not using Docker)
node index.js

---

## ğŸ“‘ CSV Format (sample)
The CSV must contain these column headers:
phone,candidateFirstNameFormatted,candidateEmail,company,recruiterName,emailSubject,conversation

Example:
919876543210,Alex,alex@example.com,Acme Corp,Kavita Shah,Exciting Opportunity,https://platform.weekday.works/conversation?conversationId=...
919812345678,Raj,raj@example.com,Globex Ltd,Manish Patel,Department Head Role,https://platform.weekday.works/conversation?conversationId=...

---

## ğŸ“„ templates.js (example)
const templates = [
  ["Hey {candidateFirstName} ğŸ™‚", "{recruiterName} from {company} emailed you at {candidateEmail}.", "Subject: {emailSubject}\nCheck: {conversationLink1}"],
  ["Hello {candidateFirstName},", "{recruiterName} here from {company}. I sent you an email at {candidateEmail}.", "Thread: {conversationLink2}"],
  ["Hi {candidateFirstName},", "Just a friendly reminder â€” I emailed you about a role.", "Subject: {emailSubject}\nLink: {conversationLink3}"],
  ["Hey {candidateFirstName}, hope you're well ğŸ‘‹", "{recruiterName} (from {company}) emailed you at {candidateEmail}.", "Conversation: {conversationLink4}"],
  ["Hi {candidateFirstName},", "{recruiterName} from {company} has shared a role with you.", "View: {conversationLink5}"]
];

let templateIndex = 0;
function getNextMessage() {
  const msgs = templates[templateIndex];
  templateIndex = (templateIndex + 1) % templates.length;
  return msgs;
}
module.exports = { getNextMessage, templates };

---

## ğŸ”§ Important Code Notes
- **messageBuilder.js** â†’ Always returns an array of finalized message parts.  
- **bulkSend.js** â†’ Sends each part with short delays, then longer gap between contacts.  
- **sendMessageWithTyping** â†’ Shows typing for 5â€“12s randomly before sending.

---

## â±ï¸ Delay Recommendations
- Between parts: **5â€“15 seconds** (random).  
- Between recipients: **2â€“5 minutes** (random).  
- Start small: 10â€“20 messages/hour max.

---

## ğŸ³ Docker Example
services:
  whatsapp-bulk:
    build: .
    volumes:
      - ./wwebjs_auth:/app/.wwebjs_auth
      - ./data:/app/data
    stdin_open: true
    tty: true

---

## âœ… Best Practices
- **Do not spam.** Only send relevant messages.  
- Pilot with 5â€“10 test numbers first.  
- Monitor WhatsApp account warnings.  
- Rotate templates & delays.  
- Secure `wwebjs_auth`.

---

## ğŸ“Œ Commands
- Install deps (local):  
  npm install  

- Run locally:  
  node index.js  

- Docker build & run:  
  docker-compose up --build  

---




